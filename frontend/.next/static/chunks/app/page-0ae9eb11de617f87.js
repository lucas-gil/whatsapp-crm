(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4255:function(e,a,s){Promise.resolve().then(s.bind(s,6117))},9376:function(e,a,s){"use strict";var t=s(5475);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},6117:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return i}});var t=s(7437),r=s(2265),o=s(9376),n=s(9064);function i(){let[e,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(!1),c=(0,o.useRouter)(),l=async a=>{a.preventDefault(),i(!0);try{let a=await fetch("".concat("http://backe:3000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,workspaceSlug:"default"})});if(!a.ok)throw Error("Chave inv\xe1lida ou expirada");let s=await a.json();localStorage.setItem("token",s.accessToken),localStorage.setItem("workspaceId",s.workspaceId),localStorage.setItem("isAdmin",s.isAdmin),n.ZP.success("Login realizado com sucesso!"),c.push("/dashboard")}catch(e){n.ZP.error(e instanceof Error?e.message:"Erro ao fazer login")}finally{i(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-whatsapp to-whatsapp-dark",children:(0,t.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-2xl",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-whatsapp",children:"WhatsApp CRM"}),(0,t.jsx)("p",{className:"text-gray-500 mt-2",children:"Conecte via chave de acesso"})]}),(0,t.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chave de Acesso"}),(0,t.jsx)("input",{type:"password",value:e,onChange:e=>a(e.target.value),placeholder:"Cole sua chave de acesso aqui",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-whatsapp",disabled:s,required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"A chave foi fornecida pelo administrador"})]}),(0,t.jsx)("button",{type:"submit",disabled:s,className:"w-full py-2 px-4 bg-whatsapp text-white rounded-lg font-medium hover:bg-whatsapp-dark disabled:opacity-50 transition",children:s?"Entrando...":"Entrar"})]}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["\uD83D\uDCA1 ",(0,t.jsx)("strong",{children:"Primeira vez?"})," Pe\xe7a uma chave de acesso ao seu administrador."]})})]})})}}},function(e){e.O(0,[64,971,117,744],function(){return e(e.s=4255)}),_N_E=e.O()}]);